(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(7),i=a.n(r),l=(a(14),a(15),a(1)),o=a(2),c=a(4),u=a(3),d=a(5),h=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={tags:a.props.tags||[],text:""},console.log(a.props.tags),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value;this.setState({text:t})}},{key:"addTag",value:function(e){e.preventDefault();var t=this.state.text.trim();this.props.addTag(this.props.id,t),this.refs.tagForm.value="",this.setState({text:""})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"tagList"},this.props.tags.map(function(e,t){return s.a.createElement("div",{className:"tagItem",key:t}," ",e," ")})),s.a.createElement("form",{onSubmit:this.addTag.bind(this)},s.a.createElement("input",{className:"tagInput",type:"text",placeholder:"Add a tag",ref:"tagForm",onChange:this.handleChange.bind(this)})))}}]),t}(s.a.Component),p=function(e){function t(e){var a;Object(l.a)(this,t),a=Object(c.a)(this,Object(u.a)(t).call(this,e));for(var n=0,s=0;s<a.props.student.grades.length;s++)n+=parseInt(a.props.student.grades[s]);var r=n/a.props.student.grades.length;return a.state={average:r,expanded:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"toggleExpand",value:function(){var e=this.state.expanded;this.setState({expanded:!e})}},{key:"render",value:function(){var e=!0;if(this.props.tag){if(!this.props.tags)return null;var t=this.props.tag;if(e=!1,this.props.tags.forEach(function(a){a.slice(0,t.length).toLowerCase()===t.toLowerCase()&&(e=!0)}),!e)return null}return s.a.createElement("div",{className:"studentItem"},s.a.createElement("img",{src:this.props.student.pic,alt:this.props.student.firstName}),s.a.createElement("h2",null," ",this.props.student.firstName," ",this.props.student.lastName,s.a.createElement("span",{onClick:this.toggleExpand.bind(this)},this.state.expanded?s.a.createElement("i",{className:"fas fa-minus"}):s.a.createElement("i",{className:"fas fa-plus"}))),s.a.createElement("div",{className:"studentInfo"},s.a.createElement("p",null,"Email: ",this.props.student.email),s.a.createElement("p",null,"Company: ",this.props.student.company),s.a.createElement("p",null,"Skill: ",this.props.student.skill),s.a.createElement("p",null,"Average: ",this.state.average,"%"),this.state.expanded?s.a.createElement(s.a.Fragment,null,s.a.createElement("br",null),this.props.student.grades.map(function(e,t){return s.a.createElement("p",{key:t}," Test ",t+1,": ",s.a.createElement("span",{style:{marginLeft:"35px"}},e,"%"))}),s.a.createElement(h,{tags:this.props.tags||[],addTag:this.props.addTag,key:this.props.student.id,id:this.props.student.id})):null))}}]),t}(s.a.Component),m=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={students:"loading",name:"",tag:"",tags:{},filtered:[],doubleFiltered:[]},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://www.natedonato.com/circus/unfinished/data").then(function(e){return e.json()}).then(function(t){e.setState({students:t.students}),e.setState({filtered:t.students}),e.setState({doubleFiltered:t.students})})}},{key:"filterName",value:function(e){var t;if(e?(t=e.target.value,this.setState({name:t}),console.log(t)):(t=this.state.name,console.log(t)),0!==t.length){var a=[];this.state.students.forEach(function(e){e.firstName.slice(0,t.length).toLowerCase()!==t.toLowerCase()&&e.lastName.slice(0,t.length).toLowerCase()!==t.toLowerCase()||a.push(e)}),this.setState({filtered:a})}else{var n=this.state.students;this.setState({filtered:n})}}},{key:"filterTags",value:function(e){var t=e.target.value;this.setState({tag:t})}},{key:"addTag",value:function(e,t){if(this.state.tags[e]){var a=this.state.tags;a[e].push(t),this.setState({tags:a})}else{var n=this.state.tags;n[e]=[t],this.setState({tags:n})}}},{key:"render",value:function(){var e=this;return"loading"===this.state.students?s.a.createElement("div",{className:"lds-spinner"},s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null),s.a.createElement("div",null)):s.a.createElement("div",{className:"studentContainer"},s.a.createElement("div",{className:"searchName"},s.a.createElement("input",{type:"text",placeholder:"Search by name",onChange:this.filterName.bind(this)}),s.a.createElement("input",{type:"text",placeholder:"Search by tags",onChange:this.filterTags.bind(this)})),this.state.filtered.map(function(t){return s.a.createElement(p,{student:t,key:t.id,addTag:e.addTag.bind(e),tags:e.state.tags[t.id],tag:e.state.tag})}))}}]),t}(s.a.Component);var g=function(){return s.a.createElement("div",{className:"App"},s.a.createElement(m,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){e.exports=a(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.ac0274d9.chunk.js.map